#include <iostream>
#include <string>
using namespace std;

// 계좌 정보를 나타내기 위한 구조체(클래스와 같은 개념)
struct myaccount {
    int deposit;      // 예금
    int savings;      // 적금
    int hous;         // 주택청약
    int stock;        // 주식
};

// 회원가입 함수
void signup(string& name, string& id, string& pass) {
    cout << endl << "이름: ";
    getline(cin, name); //사용자 이름을 입력 받아 name 변수에 저장
    cout << "아이디: ";
    getline(cin, id);   //사용자 id을 입력 받아 id 변수에 저장
    cout << "비밀번호: ";
    getline(cin, pass); //사용자 passwd을 입력 받아 pass 변수에 저장

    cout << endl << "===== 회원가입 성공 =====" << endl << endl;
}

// 로그인 함수
bool login(const string& id, const string& pass) {
    string log_id, log_pass;

    cout << endl << "아이디: ";
    getline(cin, log_id);    //사용자가 입력한 id를 log_id 변수에 저장
    cout << "비밀번호: ";
    getline(cin, log_pass);  //사용자가 입력한 passwd를 log_pass 변수에 저장

    if (log_id == id && log_pass == pass) { //사용자가 입력한 id, pass가 정확하면 아래 문장 출력
        cout << "\n===== 로그인 성공 =====\n\n" << id << "님 환영합니다." << endl;
        return true;
    }
    else {  //사용자가 입력한 id, pass가 틀리면 아래 문장 출력
        cout << "\n아이디 혹은 비밀번호가 틀렸습니다.\n" << endl;
        return false;
    }
}

// 자산 관리 메뉴 출력 함수
void showAssetMenu(const string& id) {
    cout << endl << "********** swing 자산 관리 서비스 **********" << endl;
    cout << "1. 계좌 정보 출력" << endl;
    cout << "2. 총 자산 출력" << endl;
    cout << "3. 로그아웃" << endl << endl;
    cout << "번호를 입력하세요 >> ";
}

// 계좌의 총 자산 계산 함수
int total(const myaccount& obj) {
    int total_money = obj.deposit + obj.savings + obj.hous + obj.stock;
    return total_money;
}

// 자산 관리 메뉴 처리 함수
void handleAssetMenu(const string& name, const string& id, myaccount& obj) {
    string choice;

    while (true) {
        showAssetMenu(id);
        cin >> choice;

        if (choice == "1") {
            cout << endl << "---------------- swing 계좌 정보 ----------------" << endl;
            cout << "|   " << "예금" << "   |    " << "적금" << "    |  " << "주택청약" << " | " << "주식계좌" << " |" << endl;
            cout << "|   " << obj.deposit << "   |    " << obj.savings << "    |     " << obj.hous << "     |    " << obj.stock << "    |" << endl;
            cout << "------------------------------------------------" << endl;
        }
        else if (choice == "2") {
            cout << "\n현재 swing 자산관리 서비스에 등록된 회원님의 총 자산은 " << total(obj) << "원 입니다." << endl;
        }
        else if (choice == "3") {
            cout << endl << "===== 로그아웃 =====" << endl;
            cout << endl << "로그아웃 되었습니다. 안녕히가세요." << endl;
            exit(0);
        }
    }
}

// 메인 함수
int main() {
    string choice;

    while (true) {
        Menu();
        cin >> choice;

        if (choice == "1") {
            signup();
        }
        else if (choice == "2") {
            login();
        }
        else {
            cout << "유효하지 않은 메뉴 선택입니다. 다시 선택해주세요." << endl;
        }
    }

    return 0;
}
