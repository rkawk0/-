#include <iostream>
#include <string>
#include <cstdlib>

using namespace std;

// 계좌 정보를 나타내는 구조체 (클래스 개념)
struct Account {
    int deposit;            // 예금
    int savings;            // 적금
    int hous;    // 주택청약
    int stock;      // 주식
};


void handleAssetMenu(const string& id, Account& obj);
int total(const Account& obj);



// 시작 메뉴 출력
void startMenu() {
    cout << "********** swing 은행 **********" << endl;
    cout << "1. 회원가입" << endl;
    cout << "2. 로그인" << endl << endl;
    cout << "번호를 입력하세요 >> ";
}

// 자산 관리 메뉴 출력
void showAssetMenu() {
    cout << endl << "************ swing 자산 관리 서비스 ************" << endl << endl;
    cout << "1. 계좌 정보 출력" << endl;
    cout << "2. 총 자산 출력" << endl;
    cout << "3. 로그아웃" << endl << endl;
    cout << "번호를 입력하세요 >> ";
}

// 계좌의 총 자산 계산
int total(const Account& obj) {
    int total_money = obj.deposit + obj.savings + obj.hous + obj.stock;
    return total_money;
}

// 자산 관리 메뉴 처리
void handleAssetMenu(const string& id, Account& obj) {
    string choice;

    while (true) {
        showAssetMenu();
        getline(cin, choice);

        if (choice == "1") {
            cout << endl << "---------------- swing 계좌 정보 ----------------" << endl;
            cout << "|   " << "예금" << "  |    " << "적금" << "   |   " << "주택청약" << "  | " << "주식계좌" << " |" << endl;
            cout << "|   " << obj.deposit << "  |    " << obj.savings << "   |      " << obj.hous << "      |     " << obj.stock << "   |" << endl;
            cout << "------------------------------------------------" << endl;
        }
        else if (choice == "2") {
            cout << endl << "현재 swing 자산관리 서비스에 등록된 회원님의 총 자산은 " << total(obj) << "원 입니다." << endl;
        }
        else if (choice == "3") {
            cout << endl << "===== 로그아웃 =====" << endl;
            cout << endl << "로그아웃 되었습니다. 안녕히가세요." << endl;
            exit(0);
        }
    }
}

// 메인 함수
int main() {
    string choice;
    string name, id, pass;
    string log_id, log_pass;

    while (true) {
        startMenu();
        getline(cin, choice);

        if (choice == "1") {
            cout << endl << "이름: ";
            getline(cin, name);
            cout << "아이디: ";
            getline(cin, id);
            cout << "비밀번호: ";
            getline(cin, pass);

            cout << endl << "===== 회원가입 성공 =====" << endl << endl;
        }
        else if (choice == "2") {
            cout << endl << "아이디: ";
            getline(cin, log_id);
            cout << "비밀번호: ";
            getline(cin, log_pass);

            // 입력한 아이디와 비밀번호가 저장된 사용자 정보와 일치하는지 확인
            if (log_id == id && log_pass == pass) {
                cout << endl << "===== 로그인 성공 =====" << endl;

                // 사용자에게 환영 메시지 출력
                cout << endl << id << "님 환영합니다." << endl;
                // 사용자의 계좌 정보 초기화, 계좌 관리 메뉴로 이동
                Account my_account = { 5000, 4000, 0, 10 };
                handleAssetMenu(id, my_account);
            }
            else {
                cout << endl << "아이디 혹은 비밀번호가 틀렸습니다." << endl << endl;
            }
        }
        else {
            cout << "유효하지 않은 메뉴 선택입니다. 다시 선택해주세요." << endl;
        }
    }

    return 0;
}
